package com.roc.sequence.factory;import com.roc.sequence.constants.SeqConstants;import com.roc.sequence.factory.MySqlSequenceFactory;import lombok.extern.slf4j.Slf4j;import org.apache.commons.lang3.StringUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.text.SimpleDateFormat;import java.util.Calendar;@Service@Slf4jpublic class SequenceClient {    @Autowired    MySqlSequenceFactory mySqlSequenceFactory;    /**     * 功能描述: 获取新的***     * seqName = default     * prefix = ST     * len = 6     */    public String getSeqNoDefault(){        String seqName = "default";        int len = 6;        SimpleDateFormat sdfYMD = new SimpleDateFormat("yyyyMMdd");        Calendar calendar = Calendar.getInstance();        String ymdhms = sdfYMD.format(calendar.getTime());        String prefix = ymdhms;        log.info("准备获取新的{}***",seqName);        Long initNum = mySqlSequenceFactory.getNextVal(seqName);        StringBuffer stringBuffer = new StringBuffer(prefix);        stringBuffer.append(StringUtils.leftPad(String.valueOf(initNum), len, SeqConstants.SEQUENCE_PREFIX));        String newCashTokenNo = stringBuffer.toString();        log.info("获取新的{}***成功，编号为{}", seqName, newCashTokenNo);        return newCashTokenNo;    }    /**     * 功能描述: 获取新的***     */    public String getSeqNo(String seqName,String prefix,int len){        log.info("准备获取新的{}***",seqName);        Long initNum = mySqlSequenceFactory.getNextVal(seqName);        StringBuffer stringBuffer = new StringBuffer(prefix);        stringBuffer.append(StringUtils.leftPad(String.valueOf(initNum), len, SeqConstants.SEQUENCE_PREFIX));        String newCashTokenNo = stringBuffer.toString();        log.info("获取新的{}***成功，编号为{}", seqName, newCashTokenNo);        return newCashTokenNo;    }}